---
layout: default
title: "v10.2.0"
description: "Release notes for Neatoo RemoteFactory v10.2.0"
parent: Release Notes
nav_order: 2
---

# v10.2.0 - Ordinal Serialization

**Release Date:** 2026-01-01
**NuGet:** [Neatoo.RemoteFactory 10.2.0](https://nuget.org/packages/Neatoo.RemoteFactory/10.2.0)

## Overview

This release introduces ordinal serialization, a compact JSON format that reduces payload sizes by 40-50% by eliminating redundant property names from serialized objects.

## What's New

### Ordinal Serialization Format

Objects are now serialized as positional arrays instead of named property objects:

```json
// Before (Named format)
{"Name":"John","Age":42,"Active":true}

// After (Ordinal format - default)
["John",42,true]
```

Property order is deterministic: alphabetical by name, with base class properties first.

### SerializationFormat Enum

Configure the serialization format:

```csharp
public enum SerializationFormat
{
    Ordinal,  // Compact array format (default)
    Named     // Verbose object format
}
```

### NeatooSerializationOptions Class

Configure serialization when registering RemoteFactory:

```csharp
services.AddNeatooRemoteFactory(
    NeatooFactory.Server,
    new NeatooSerializationOptions { Format = SerializationFormat.Named },
    typeof(MyModel).Assembly);
```

### IOrdinalSerializable Interface

Generated on `[Factory]` types to support ordinal serialization:

```csharp
public interface IOrdinalSerializable
{
    object?[] ToOrdinalArray();
}
```

### IOrdinalSerializationMetadata Interface

Generated metadata interface with static abstract members:

```csharp
public interface IOrdinalSerializationMetadata<T>
{
    static abstract string[] PropertyNames { get; }
    static abstract T FromOrdinalArray(object?[] values);
}
```

### X-Neatoo-Format HTTP Header

Server communicates its format preference via response header:

```
X-Neatoo-Format: ordinal
```

Clients automatically adapt to the server's preferred format.

### NF0207 Diagnostic

New informational diagnostic for nested types:

| ID | Severity | Message |
|----|----------|---------|
| NF0207 | Info | Nested type '{0}' was skipped for ordinal serialization generation. Move the type to namespace level to enable compact serialization. |

## Breaking Changes

### Default Format Changed to Ordinal

The default serialization format is now `SerializationFormat.Ordinal`. This provides significant bandwidth savings but changes the wire format.

**Impact:** If you have existing clients/servers that cannot be updated simultaneously, you may need to explicitly set the format.

## Migration Guide

### Reverting to Named Format

If you need backward compatibility with older clients:

```csharp
// Server configuration
services.AddNeatooRemoteFactory(
    NeatooFactory.Server,
    new NeatooSerializationOptions { Format = SerializationFormat.Named },
    typeof(MyModel).Assembly);

// Client configuration
services.AddNeatooRemoteFactory(
    NeatooFactory.Remote,
    new NeatooSerializationOptions { Format = SerializationFormat.Named },
    typeof(MyModel).Assembly);
```

### Updating Both Client and Server

For the best experience, update both client and server to v10.2.0. The ordinal format will be used automatically.

### Mixed Version Deployments

The server accepts both formats (detects by first character: `[` = ordinal, `{` = named) and responds in its configured format. Clients adapt based on the `X-Neatoo-Format` response header.

## Bug Fixes

None.

## Commits

- Ordinal serialization implementation
- NF0207 diagnostic for nested types
- Format negotiation via X-Neatoo-Format header
