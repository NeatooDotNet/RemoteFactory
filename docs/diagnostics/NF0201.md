# NF0201: Factory method must be static

## Description

Factory methods that return the target type (like `[Create]` or `[Fetch]` methods returning the class type) must be static. Instance methods that return the target type are skipped by the generator.

| Property | Value |
|----------|-------|
| **Diagnostic ID** | NF0201 |
| **Severity** | Warning |
| **Category** | RemoteFactory.Usage |
| **Default** | Enabled |

## Example

The following code triggers NF0201:

```csharp
[Factory]
public partial class Customer
{
    // Warning NF0201: Instance method returning target type
    [Create]
    public Customer CreateInstance(string name)
    {
        return new Customer { Name = name };
    }

    public string Name { get; set; }
}
```

## How to Fix

Make the factory method static:

```csharp
[Factory]
public partial class Customer
{
    // Correct: Static factory method
    [Create]
    public static Customer CreateInstance(string name)
    {
        return new Customer { Name = name };
    }

    public string Name { get; set; }
}
```

Or use a constructor with `[Create]`:

```csharp
[Factory]
public partial class Customer
{
    // Correct: Constructor as factory
    [Create]
    public Customer(string name)
    {
        Name = name;
    }

    public string Name { get; set; }
}
```

## Why This Matters

Factory methods that return the target type are conceptually "constructors" - they create new instances. An instance method cannot create an instance of its own class because it requires an existing instance to be called.

The generator recognizes two patterns for creating instances:
1. **Static factory methods** - `public static MyClass Create(...)`
2. **Constructors** - `public MyClass(...)`

Instance methods are appropriate for other factory operations like `[Insert]`, `[Update]`, and `[Delete]` which operate on an existing instance.

## Suppressing This Warning

If you intentionally have a method with this pattern (e.g., for a different purpose), you can suppress the warning:

```csharp
#pragma warning disable NF0201
[Create]
public Customer CreateInstance(string name)
{
    // Intentionally non-static for some reason
    return new Customer { Name = name };
}
#pragma warning restore NF0201
```

Note that the method will still be skipped by the generator.

## Related Diagnostics

- [NF0204](NF0204.md) - Write operation should not return target type
