# NF0401: Event method must return void or Task

## Description

Event methods marked with `[Event]` must return either `void` or `Task`. They cannot return `Task<T>` or any other return type because events are fire-and-forget operations that don't return values to the caller.

| Property | Value |
|----------|-------|
| **Diagnostic ID** | NF0401 |
| **Severity** | Error |
| **Category** | RemoteFactory.Usage |
| **Default** | Enabled |

## Example

The following code triggers NF0401:

```csharp
[Factory]
public partial class OrderHandler
{
    // Error NF0401: Event method must return void or Task, not Task<bool>
    [Event]
    public Task<bool> SendConfirmation(
        Guid orderId,
        [Service] IEmailService emailService,
        CancellationToken ct)
    {
        return emailService.SendAsync(orderId, ct);
    }
}
```

## How to Fix

Change the return type to `void` or `Task`:

```csharp
[Factory]
public partial class OrderHandler
{
    // Correct: Returns Task (no generic parameter)
    [Event]
    public Task SendConfirmation(
        Guid orderId,
        [Service] IEmailService emailService,
        CancellationToken ct)
    {
        return emailService.SendAsync(orderId, ct);
    }
}
```

Or use `void` for synchronous handlers:

```csharp
[Factory]
public partial class OrderHandler
{
    // Correct: Returns void
    [Event]
    public void LogOrder(
        Guid orderId,
        [Service] ILogger logger,
        CancellationToken ct)
    {
        logger.LogInformation("Order {OrderId} processed", orderId);
    }
}
```

## Why This Matters

Events are fire-and-forget operations. The caller invokes the event delegate and continues immediately without waiting for a result. Any return value would be discarded.

If you need to return data to the caller, use `[Execute]` instead:

```csharp
[Factory]
public static partial class OrderOperations
{
    // Use [Execute] when you need to return data
    [Execute]
    public static Task<bool> ValidateOrder(
        Guid orderId,
        [Service] IOrderService orderService,
        CancellationToken ct)
    {
        return orderService.ValidateAsync(orderId, ct);
    }
}
```

## Related Diagnostics

- [NF0404](NF0404.md) - Event method must have CancellationToken as final parameter
