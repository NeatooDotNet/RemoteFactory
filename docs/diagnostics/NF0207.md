# NF0207: Nested type skipped for ordinal serialization

## Summary

| Property | Value |
|----------|-------|
| **Diagnostic ID** | NF0207 |
| **Category** | RemoteFactory.Usage |
| **Severity** | Info |
| **Default** | Enabled |

## Cause

The following code triggers NF0207:

```csharp
[Factory]
public partial class OuterClass
{
    // NF0207: Nested type skipped for ordinal serialization
    [Factory]
    public partial class InnerModel
    {
        public string Name { get; set; } = "";
        public int Value { get; set; }
    }
}
```

## Rule Description

Types nested inside other classes cannot have ordinal serialization generated due to code generation limitations. Ordinal serialization requires generating a partial class with `IOrdinalSerializable` implementation, but nested types complicate the generation process.

Nested types will still work with RemoteFactory, but they will use the **Named** serialization format (object-based JSON with property names) instead of the more compact **Ordinal** format (array-based JSON).

## How to Fix

Move the type to namespace level (not nested inside another class):

```csharp
[Factory]
public partial class OuterClass
{
    // Other members...
}

// Moved to namespace level - ordinal serialization will be generated
[Factory]
public partial class InnerModel
{
    public string Name { get; set; } = "";
    public int Value { get; set; }
}
```

## Impact

| Aspect | Nested Type | Namespace-Level Type |
|--------|-------------|----------------------|
| RemoteFactory support | Full | Full |
| Serialization format | Named only | Ordinal (default) |
| Payload size | Larger (~40-50% more) | Compact |

## When to Suppress

This diagnostic can be safely suppressed if:

1. **The nested type is intentionally nested** for organizational reasons
2. **Payload size is not a concern** for this particular type
3. **The type is rarely serialized** between client and server

```csharp
#pragma warning disable NF0207
[Factory]
public partial class NestedModel { }
#pragma warning restore NF0207
```

Or in `.editorconfig`:

```ini
[*.cs]
dotnet_diagnostic.NF0207.severity = none
```

## Related Diagnostics

- [NF0101](NF0101.md) - Class must be partial for factory generation
