# NF0102: Execute method must return Task

## Description

Methods marked with `[Execute]` must return `Task` or `Task<T>` because they are designed for asynchronous remote execution.

| Property | Value |
|----------|-------|
| **Diagnostic ID** | NF0102 |
| **Severity** | Error |
| **Category** | RemoteFactory.Usage |
| **Default** | Enabled |

## Example

The following code triggers NF0102:

```csharp
[Factory]
public static partial class MyCommands
{
    // Error NF0102: Returns string instead of Task<string>
    [Execute]
    public static string RunOnServer(string message)
    {
        return $"Processed: {message}";
    }
}
```

## How to Fix

Change the return type to `Task` or `Task<T>`:

```csharp
[Factory]
public static partial class MyCommands
{
    // Correct: Returns Task<string>
    [Execute]
    public static Task<string> RunOnServer(string message)
    {
        return Task.FromResult($"Processed: {message}");
    }
}
```

Or use async/await:

```csharp
[Factory]
public static partial class MyCommands
{
    // Correct: Async method returning Task<string>
    [Execute]
    public static async Task<string> RunOnServer(string message)
    {
        await Task.Delay(100); // Simulate async work
        return $"Processed: {message}";
    }
}
```

## Why This Matters

Execute operations are designed for remote procedure calls (RPCs). When running in client mode, the generated delegate makes an HTTP request to the server, which is inherently asynchronous. Even when running locally, the async pattern ensures consistent behavior across execution modes.

## Related Diagnostics

- [NF0101](NF0101.md) - Class must be partial for factory generation
- [NF0103](NF0103.md) - Execute method requires static class
