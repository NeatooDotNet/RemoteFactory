# NF0205: [Create] on type requires record with primary constructor

## Description

When placing `[Create]` directly on a type declaration, the type must be a `record` with a primary constructor. This error occurs when `[Create]` is applied to a class or to a record without a primary constructor.

| Property | Value |
|----------|-------|
| **Diagnostic ID** | NF0205 |
| **Severity** | Error |
| **Category** | RemoteFactory.Usage |
| **Default** | Enabled |

## Example

The following code triggers NF0205:

```csharp
// Error NF0205: [Create] on class (not a record)
[Factory]
[Create]
public class NotARecord
{
    public string Name { get; set; }
}

// Error NF0205: [Create] on record without primary constructor
[Factory]
[Create]
public record RecordWithoutPrimaryConstructor
{
    public string Name { get; init; }
}
```

## How to Fix

### Option 1: Use a positional record (recommended)

Convert to a positional record with a primary constructor:

```csharp
// Correct: Record with primary constructor
[Factory]
[Create]
public partial record SimpleRecord(string Name, int Value);
```

### Option 2: Use [Create] on an explicit constructor

Keep the class/record and place `[Create]` on a constructor instead:

```csharp
// Correct: [Create] on explicit constructor
[Factory]
public class Customer
{
    public string Name { get; set; }

    [Create]
    public Customer(string name)
    {
        Name = name;
    }
}

// Also correct: Record with explicit constructor
[Factory]
public partial record CustomerRecord
{
    public string Name { get; init; }

    [Create]
    public CustomerRecord(string name)
    {
        Name = name;
    }
}
```

## Why This Matters

When `[Create]` is placed on a type declaration, the generator needs to know which constructor to use for creating instances. For records with primary constructors, this is unambiguous - the primary constructor parameters become the factory method parameters.

For classes or records without primary constructors, there's no clear indication of how to construct the instance, so `[Create]` must be placed on a specific constructor.

## Record Syntax Reference

```csharp
// Record with primary constructor (required for [Create] on type)
public record Person(string Name, int Age);

// Record WITHOUT primary constructor (must use [Create] on constructor)
public record Person
{
    public string Name { get; init; }
    public int Age { get; init; }
}
```

## Related Diagnostics

- [NF0206](NF0206.md) - record struct not supported
- [NF0201](NF0201.md) - Factory method must be static
