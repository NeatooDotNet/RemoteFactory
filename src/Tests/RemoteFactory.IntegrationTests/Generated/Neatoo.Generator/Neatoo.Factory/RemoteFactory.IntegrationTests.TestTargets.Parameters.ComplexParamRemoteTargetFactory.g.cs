#nullable enable
using Neatoo.RemoteFactory;
using Neatoo.RemoteFactory.Internal;
using Microsoft.Extensions.DependencyInjection;
using RemoteFactory.IntegrationTests.Shared;

/*
    READONLY - DO NOT EDIT!!!!
    Generated by Neatoo.RemoteFactory
*/
namespace RemoteFactory.IntegrationTests.TestTargets.Parameters
{
    public interface IComplexParamRemoteTargetFactory
    {
        ComplexParamRemoteTarget Create(CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> CreateRemoteWithIntList(List<int> ids, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> CreateRemoteWithStringList(List<string> names, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> CreateRemoteWithDictionary(Dictionary<string, int> data, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> CreateRemoteWithDto(SimpleDto dto, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> CreateRemoteWithNestedDto(NestedDto dto, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> CreateRemoteWithNullableList(List<int>? optionalIds, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> CreateRemoteWithNullableDto(SimpleDto? optionalDto, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> CreateRemoteWithMixedParams(int id, List<string> tags, SimpleDto dto, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget?> CreateRemoteWithComplexParamsAsync(List<int> ids, Dictionary<string, int> data, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> FetchRemoteWithIntList(List<int> ids, CancellationToken cancellationToken = default);
        Task<ComplexParamRemoteTarget> FetchRemoteWithDto(SimpleDto dto, CancellationToken cancellationToken = default);
    }

    internal class ComplexParamRemoteTargetFactory : FactoryBase<ComplexParamRemoteTarget>, IComplexParamRemoteTargetFactory
    {
        private readonly IServiceProvider ServiceProvider;
        private readonly IMakeRemoteDelegateRequest? MakeRemoteDelegateRequest;
        // Delegates
        public delegate Task<ComplexParamRemoteTarget> CreateRemoteWithIntListDelegate(List<int> ids, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> CreateRemoteWithStringListDelegate(List<string> names, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> CreateRemoteWithDictionaryDelegate(Dictionary<string, int> data, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> CreateRemoteWithDtoDelegate(SimpleDto dto, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> CreateRemoteWithNestedDtoDelegate(NestedDto dto, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> CreateRemoteWithNullableListDelegate(List<int>? optionalIds, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> CreateRemoteWithNullableDtoDelegate(SimpleDto? optionalDto, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> CreateRemoteWithMixedParamsDelegate(int id, List<string> tags, SimpleDto dto, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget?> CreateRemoteWithComplexParamsAsyncDelegate(List<int> ids, Dictionary<string, int> data, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> FetchRemoteWithIntListDelegate(List<int> ids, CancellationToken cancellationToken = default);
        public delegate Task<ComplexParamRemoteTarget> FetchRemoteWithDtoDelegate(SimpleDto dto, CancellationToken cancellationToken = default);
        // Delegate Properties to provide Local or Remote fork in execution
        public CreateRemoteWithIntListDelegate CreateRemoteWithIntListProperty { get; }
        public CreateRemoteWithStringListDelegate CreateRemoteWithStringListProperty { get; }
        public CreateRemoteWithDictionaryDelegate CreateRemoteWithDictionaryProperty { get; }
        public CreateRemoteWithDtoDelegate CreateRemoteWithDtoProperty { get; }
        public CreateRemoteWithNestedDtoDelegate CreateRemoteWithNestedDtoProperty { get; }
        public CreateRemoteWithNullableListDelegate CreateRemoteWithNullableListProperty { get; }
        public CreateRemoteWithNullableDtoDelegate CreateRemoteWithNullableDtoProperty { get; }
        public CreateRemoteWithMixedParamsDelegate CreateRemoteWithMixedParamsProperty { get; }
        public CreateRemoteWithComplexParamsAsyncDelegate CreateRemoteWithComplexParamsAsyncProperty { get; }
        public FetchRemoteWithIntListDelegate FetchRemoteWithIntListProperty { get; }
        public FetchRemoteWithDtoDelegate FetchRemoteWithDtoProperty { get; }

        public ComplexParamRemoteTargetFactory(IServiceProvider serviceProvider, IFactoryCore<ComplexParamRemoteTarget> factoryCore) : base(factoryCore)
        {
            this.ServiceProvider = serviceProvider;
            CreateRemoteWithIntListProperty = LocalCreateRemoteWithIntList;
            CreateRemoteWithStringListProperty = LocalCreateRemoteWithStringList;
            CreateRemoteWithDictionaryProperty = LocalCreateRemoteWithDictionary;
            CreateRemoteWithDtoProperty = LocalCreateRemoteWithDto;
            CreateRemoteWithNestedDtoProperty = LocalCreateRemoteWithNestedDto;
            CreateRemoteWithNullableListProperty = LocalCreateRemoteWithNullableList;
            CreateRemoteWithNullableDtoProperty = LocalCreateRemoteWithNullableDto;
            CreateRemoteWithMixedParamsProperty = LocalCreateRemoteWithMixedParams;
            CreateRemoteWithComplexParamsAsyncProperty = LocalCreateRemoteWithComplexParamsAsync;
            FetchRemoteWithIntListProperty = LocalFetchRemoteWithIntList;
            FetchRemoteWithDtoProperty = LocalFetchRemoteWithDto;
        }

        public ComplexParamRemoteTargetFactory(IServiceProvider serviceProvider, IMakeRemoteDelegateRequest remoteMethodDelegate, IFactoryCore<ComplexParamRemoteTarget> factoryCore) : base(factoryCore)
        {
            this.ServiceProvider = serviceProvider;
            this.MakeRemoteDelegateRequest = remoteMethodDelegate;
            CreateRemoteWithIntListProperty = RemoteCreateRemoteWithIntList;
            CreateRemoteWithStringListProperty = RemoteCreateRemoteWithStringList;
            CreateRemoteWithDictionaryProperty = RemoteCreateRemoteWithDictionary;
            CreateRemoteWithDtoProperty = RemoteCreateRemoteWithDto;
            CreateRemoteWithNestedDtoProperty = RemoteCreateRemoteWithNestedDto;
            CreateRemoteWithNullableListProperty = RemoteCreateRemoteWithNullableList;
            CreateRemoteWithNullableDtoProperty = RemoteCreateRemoteWithNullableDto;
            CreateRemoteWithMixedParamsProperty = RemoteCreateRemoteWithMixedParams;
            CreateRemoteWithComplexParamsAsyncProperty = RemoteCreateRemoteWithComplexParamsAsync;
            FetchRemoteWithIntListProperty = RemoteFetchRemoteWithIntList;
            FetchRemoteWithDtoProperty = RemoteFetchRemoteWithDto;
        }

        public virtual ComplexParamRemoteTarget Create(CancellationToken cancellationToken = default)
        {
            return LocalCreate(cancellationToken);
        }

        public ComplexParamRemoteTarget LocalCreate(CancellationToken cancellationToken = default)
        {
            return DoFactoryMethodCall(FactoryOperation.Create, () => new ComplexParamRemoteTarget());
        }

        public virtual Task<ComplexParamRemoteTarget> CreateRemoteWithIntList(List<int> ids, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithIntListProperty(ids, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteCreateRemoteWithIntList(List<int> ids, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(CreateRemoteWithIntListDelegate), [ids], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalCreateRemoteWithIntList(List<int> ids, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Create, () => target.CreateRemoteWithIntList(ids)));
        }

        public virtual Task<ComplexParamRemoteTarget> CreateRemoteWithStringList(List<string> names, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithStringListProperty(names, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteCreateRemoteWithStringList(List<string> names, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(CreateRemoteWithStringListDelegate), [names], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalCreateRemoteWithStringList(List<string> names, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Create, () => target.CreateRemoteWithStringList(names)));
        }

        public virtual Task<ComplexParamRemoteTarget> CreateRemoteWithDictionary(Dictionary<string, int> data, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithDictionaryProperty(data, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteCreateRemoteWithDictionary(Dictionary<string, int> data, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(CreateRemoteWithDictionaryDelegate), [data], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalCreateRemoteWithDictionary(Dictionary<string, int> data, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Create, () => target.CreateRemoteWithDictionary(data)));
        }

        public virtual Task<ComplexParamRemoteTarget> CreateRemoteWithDto(SimpleDto dto, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithDtoProperty(dto, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteCreateRemoteWithDto(SimpleDto dto, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(CreateRemoteWithDtoDelegate), [dto], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalCreateRemoteWithDto(SimpleDto dto, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Create, () => target.CreateRemoteWithDto(dto)));
        }

        public virtual Task<ComplexParamRemoteTarget> CreateRemoteWithNestedDto(NestedDto dto, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithNestedDtoProperty(dto, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteCreateRemoteWithNestedDto(NestedDto dto, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(CreateRemoteWithNestedDtoDelegate), [dto], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalCreateRemoteWithNestedDto(NestedDto dto, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Create, () => target.CreateRemoteWithNestedDto(dto)));
        }

        public virtual Task<ComplexParamRemoteTarget> CreateRemoteWithNullableList(List<int>? optionalIds, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithNullableListProperty(optionalIds, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteCreateRemoteWithNullableList(List<int>? optionalIds, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(CreateRemoteWithNullableListDelegate), [optionalIds], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalCreateRemoteWithNullableList(List<int>? optionalIds, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Create, () => target.CreateRemoteWithNullableList(optionalIds)));
        }

        public virtual Task<ComplexParamRemoteTarget> CreateRemoteWithNullableDto(SimpleDto? optionalDto, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithNullableDtoProperty(optionalDto, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteCreateRemoteWithNullableDto(SimpleDto? optionalDto, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(CreateRemoteWithNullableDtoDelegate), [optionalDto], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalCreateRemoteWithNullableDto(SimpleDto? optionalDto, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Create, () => target.CreateRemoteWithNullableDto(optionalDto)));
        }

        public virtual Task<ComplexParamRemoteTarget> CreateRemoteWithMixedParams(int id, List<string> tags, SimpleDto dto, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithMixedParamsProperty(id, tags, dto, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteCreateRemoteWithMixedParams(int id, List<string> tags, SimpleDto dto, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(CreateRemoteWithMixedParamsDelegate), [id, tags, dto], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalCreateRemoteWithMixedParams(int id, List<string> tags, SimpleDto dto, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Create, () => target.CreateRemoteWithMixedParams(id, tags, dto)));
        }

        public virtual Task<ComplexParamRemoteTarget?> CreateRemoteWithComplexParamsAsync(List<int> ids, Dictionary<string, int> data, CancellationToken cancellationToken = default)
        {
            return CreateRemoteWithComplexParamsAsyncProperty(ids, data, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget?> RemoteCreateRemoteWithComplexParamsAsync(List<int> ids, Dictionary<string, int> data, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegateNullable<ComplexParamRemoteTarget?>(typeof(CreateRemoteWithComplexParamsAsyncDelegate), [ids, data], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget?> LocalCreateRemoteWithComplexParamsAsync(List<int> ids, Dictionary<string, int> data, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return DoFactoryMethodCallBoolAsync(target, FactoryOperation.Create, () => target.CreateRemoteWithComplexParamsAsync(ids, data));
        }

        public virtual Task<ComplexParamRemoteTarget> FetchRemoteWithIntList(List<int> ids, CancellationToken cancellationToken = default)
        {
            return FetchRemoteWithIntListProperty(ids, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteFetchRemoteWithIntList(List<int> ids, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(FetchRemoteWithIntListDelegate), [ids], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalFetchRemoteWithIntList(List<int> ids, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Fetch, () => target.FetchRemoteWithIntList(ids)));
        }

        public virtual Task<ComplexParamRemoteTarget> FetchRemoteWithDto(SimpleDto dto, CancellationToken cancellationToken = default)
        {
            return FetchRemoteWithDtoProperty(dto, cancellationToken);
        }

        public virtual async Task<ComplexParamRemoteTarget> RemoteFetchRemoteWithDto(SimpleDto dto, CancellationToken cancellationToken = default)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteTarget>(typeof(FetchRemoteWithDtoDelegate), [dto], cancellationToken))!;
        }

        public Task<ComplexParamRemoteTarget> LocalFetchRemoteWithDto(SimpleDto dto, CancellationToken cancellationToken = default)
        {
            var target = ServiceProvider.GetRequiredService<ComplexParamRemoteTarget>();
            return Task.FromResult(DoFactoryMethodCall(target, FactoryOperation.Fetch, () => target.FetchRemoteWithDto(dto)));
        }

        public static void FactoryServiceRegistrar(IServiceCollection services, NeatooFactory remoteLocal)
        {
            services.AddScoped<ComplexParamRemoteTargetFactory>();
            services.AddScoped<IComplexParamRemoteTargetFactory, ComplexParamRemoteTargetFactory>();
            services.AddTransient<ComplexParamRemoteTarget>();
            // Register AOT-compatible ordinal converter
            global::Neatoo.RemoteFactory.Internal.NeatooOrdinalConverterFactory.RegisterConverter(ComplexParamRemoteTarget.CreateOrdinalConverter());
            services.AddScoped<CreateRemoteWithIntListDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (List<int> ids, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithIntList(ids, cancellationToken);
            });
            services.AddScoped<CreateRemoteWithStringListDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (List<string> names, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithStringList(names, cancellationToken);
            });
            services.AddScoped<CreateRemoteWithDictionaryDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (Dictionary<string, int> data, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithDictionary(data, cancellationToken);
            });
            services.AddScoped<CreateRemoteWithDtoDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (SimpleDto dto, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithDto(dto, cancellationToken);
            });
            services.AddScoped<CreateRemoteWithNestedDtoDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (NestedDto dto, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithNestedDto(dto, cancellationToken);
            });
            services.AddScoped<CreateRemoteWithNullableListDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (List<int>? optionalIds, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithNullableList(optionalIds, cancellationToken);
            });
            services.AddScoped<CreateRemoteWithNullableDtoDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (SimpleDto? optionalDto, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithNullableDto(optionalDto, cancellationToken);
            });
            services.AddScoped<CreateRemoteWithMixedParamsDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (int id, List<string> tags, SimpleDto dto, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithMixedParams(id, tags, dto, cancellationToken);
            });
            services.AddScoped<CreateRemoteWithComplexParamsAsyncDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (List<int> ids, Dictionary<string, int> data, CancellationToken cancellationToken = default) => factory.LocalCreateRemoteWithComplexParamsAsync(ids, data, cancellationToken);
            });
            services.AddScoped<FetchRemoteWithIntListDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (List<int> ids, CancellationToken cancellationToken = default) => factory.LocalFetchRemoteWithIntList(ids, cancellationToken);
            });
            services.AddScoped<FetchRemoteWithDtoDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteTargetFactory>();
                return (SimpleDto dto, CancellationToken cancellationToken = default) => factory.LocalFetchRemoteWithDto(dto, cancellationToken);
            });
            // Event registrations
            if (remoteLocal == NeatooFactory.Remote)
            {
            }

            if (remoteLocal == NeatooFactory.Logical || remoteLocal == NeatooFactory.Server)
            {
            }
        }
    }
}