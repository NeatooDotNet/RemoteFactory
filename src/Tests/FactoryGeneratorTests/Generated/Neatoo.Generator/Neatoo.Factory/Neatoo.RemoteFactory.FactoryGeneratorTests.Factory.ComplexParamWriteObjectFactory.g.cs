#nullable enable
using Neatoo.RemoteFactory;
using Neatoo.RemoteFactory.Internal;
using Microsoft.Extensions.DependencyInjection;
using Neatoo.RemoteFactory.FactoryGeneratorTests.Shared;

/*
							READONLY - DO NOT EDIT!!!!
							Generated by Neatoo.RemoteFactory
*/
namespace Neatoo.RemoteFactory.FactoryGeneratorTests.Factory
{
    public interface IComplexParamWriteObjectFactory
    {
        ComplexParamWriteObject? SaveWithIntList(ComplexParamWriteObject target, List<int> ids);
        ComplexParamWriteObject SaveWithDto(ComplexParamWriteObject target, SimpleDto dto);
        ComplexParamWriteObject SaveWithDictionary(ComplexParamWriteObject target, Dictionary<string, int> data);
    }

    internal class ComplexParamWriteObjectFactory : FactoryBase<ComplexParamWriteObject>, IComplexParamWriteObjectFactory
    {
        private readonly IServiceProvider ServiceProvider;
        private readonly IMakeRemoteDelegateRequest? MakeRemoteDelegateRequest;
        // Delegates
        // Delegate Properties to provide Local or Remote fork in execution
        public ComplexParamWriteObjectFactory(IServiceProvider serviceProvider, IFactoryCore<ComplexParamWriteObject> factoryCore) : base(factoryCore)
        {
            this.ServiceProvider = serviceProvider;
        }

        public ComplexParamWriteObjectFactory(IServiceProvider serviceProvider, IMakeRemoteDelegateRequest remoteMethodDelegate, IFactoryCore<ComplexParamWriteObject> factoryCore) : base(factoryCore)
        {
            this.ServiceProvider = serviceProvider;
            this.MakeRemoteDelegateRequest = remoteMethodDelegate;
        }

        public ComplexParamWriteObject LocalInsertWithIntList(ComplexParamWriteObject target, List<int> ids)
        {
            var cTarget = (ComplexParamWriteObject)target ?? throw new Exception("ComplexParamWriteObject must implement ComplexParamWriteObject");
            return DoFactoryMethodCall(cTarget, FactoryOperation.Insert, () => cTarget.InsertWithIntList(ids));
        }

        public ComplexParamWriteObject LocalInsertWithDto(ComplexParamWriteObject target, SimpleDto dto)
        {
            var cTarget = (ComplexParamWriteObject)target ?? throw new Exception("ComplexParamWriteObject must implement ComplexParamWriteObject");
            return DoFactoryMethodCall(cTarget, FactoryOperation.Insert, () => cTarget.InsertWithDto(dto));
        }

        public ComplexParamWriteObject LocalUpdateWithDictionary(ComplexParamWriteObject target, Dictionary<string, int> data)
        {
            var cTarget = (ComplexParamWriteObject)target ?? throw new Exception("ComplexParamWriteObject must implement ComplexParamWriteObject");
            return DoFactoryMethodCall(cTarget, FactoryOperation.Update, () => cTarget.UpdateWithDictionary(data));
        }

        public ComplexParamWriteObject LocalUpdateWithDto(ComplexParamWriteObject target, SimpleDto dto)
        {
            var cTarget = (ComplexParamWriteObject)target ?? throw new Exception("ComplexParamWriteObject must implement ComplexParamWriteObject");
            return DoFactoryMethodCall(cTarget, FactoryOperation.Update, () => cTarget.UpdateWithDto(dto));
        }

        public ComplexParamWriteObject LocalDeleteWithIntList(ComplexParamWriteObject target, List<int> ids)
        {
            var cTarget = (ComplexParamWriteObject)target ?? throw new Exception("ComplexParamWriteObject must implement ComplexParamWriteObject");
            return DoFactoryMethodCall(cTarget, FactoryOperation.Delete, () => cTarget.DeleteWithIntList(ids));
        }

        public virtual ComplexParamWriteObject? SaveWithIntList(ComplexParamWriteObject target, List<int> ids)
        {
            return LocalSaveWithIntList(target, ids);
        }

        public virtual ComplexParamWriteObject? LocalSaveWithIntList(ComplexParamWriteObject target, List<int> ids)
        {
            if (target.IsDeleted)
            {
                if (target.IsNew)
                {
                    return default(ComplexParamWriteObject);
                }

                return LocalDeleteWithIntList(target, ids);
            }
            else if (target.IsNew)
            {
                return LocalInsertWithIntList(target, ids);
            }
            else
            {
                throw new NotImplementedException();
            }
        }

        public virtual ComplexParamWriteObject SaveWithDto(ComplexParamWriteObject target, SimpleDto dto)
        {
            return LocalSaveWithDto(target, dto);
        }

        public virtual ComplexParamWriteObject LocalSaveWithDto(ComplexParamWriteObject target, SimpleDto dto)
        {
            if (target.IsDeleted)
            {
                throw new NotImplementedException();
            }
            else if (target.IsNew)
            {
                return LocalInsertWithDto(target, dto);
            }
            else
            {
                return LocalUpdateWithDto(target, dto);
            }
        }

        public virtual ComplexParamWriteObject SaveWithDictionary(ComplexParamWriteObject target, Dictionary<string, int> data)
        {
            return LocalSaveWithDictionary(target, data);
        }

        public virtual ComplexParamWriteObject LocalSaveWithDictionary(ComplexParamWriteObject target, Dictionary<string, int> data)
        {
            if (target.IsDeleted)
            {
                throw new NotImplementedException();
            }
            else if (target.IsNew)
            {
                throw new NotImplementedException();
            }
            else
            {
                return LocalUpdateWithDictionary(target, data);
            }
        }

        public static void FactoryServiceRegistrar(IServiceCollection services, NeatooFactory remoteLocal)
        {
            services.AddScoped<ComplexParamWriteObjectFactory>();
            services.AddScoped<IComplexParamWriteObjectFactory, ComplexParamWriteObjectFactory>();
            services.AddTransient<ComplexParamWriteObject>();
        }
    }
}