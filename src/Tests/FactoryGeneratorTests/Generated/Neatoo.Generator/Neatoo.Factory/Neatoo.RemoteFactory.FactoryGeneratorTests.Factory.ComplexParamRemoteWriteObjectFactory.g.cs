#nullable enable
using Neatoo.RemoteFactory;
using Neatoo.RemoteFactory.Internal;
using Microsoft.Extensions.DependencyInjection;
using Neatoo.RemoteFactory.FactoryGeneratorTests.Shared;

/*
							READONLY - DO NOT EDIT!!!!
							Generated by Neatoo.RemoteFactory
*/
namespace Neatoo.RemoteFactory.FactoryGeneratorTests.Factory
{
    public interface IComplexParamRemoteWriteObjectFactory
    {
        Task<ComplexParamRemoteWriteObject?> SaveRemoteWithIntList(ComplexParamRemoteWriteObject target, List<int> ids);
        Task<ComplexParamRemoteWriteObject> SaveRemoteWithDto(ComplexParamRemoteWriteObject target, SimpleDto dto);
        Task<ComplexParamRemoteWriteObject> SaveRemoteWithDictionary(ComplexParamRemoteWriteObject target, Dictionary<string, int> data);
        Task<ComplexParamRemoteWriteObject> SaveRemoteWithComplexParamsAsync(ComplexParamRemoteWriteObject target, List<string> tags, SimpleDto dto);
    }

    internal class ComplexParamRemoteWriteObjectFactory : FactoryBase<ComplexParamRemoteWriteObject>, IComplexParamRemoteWriteObjectFactory
    {
        private readonly IServiceProvider ServiceProvider;
        private readonly IMakeRemoteDelegateRequest? MakeRemoteDelegateRequest;
        // Delegates
        public delegate Task<ComplexParamRemoteWriteObject?> SaveRemoteWithIntListDelegate(ComplexParamRemoteWriteObject target, List<int> ids);
        public delegate Task<ComplexParamRemoteWriteObject> SaveRemoteWithDtoDelegate(ComplexParamRemoteWriteObject target, SimpleDto dto);
        public delegate Task<ComplexParamRemoteWriteObject> SaveRemoteWithDictionaryDelegate(ComplexParamRemoteWriteObject target, Dictionary<string, int> data);
        public delegate Task<ComplexParamRemoteWriteObject> SaveRemoteWithComplexParamsAsyncDelegate(ComplexParamRemoteWriteObject target, List<string> tags, SimpleDto dto);
        // Delegate Properties to provide Local or Remote fork in execution
        public SaveRemoteWithIntListDelegate SaveRemoteWithIntListProperty { get; }
        public SaveRemoteWithDtoDelegate SaveRemoteWithDtoProperty { get; }
        public SaveRemoteWithDictionaryDelegate SaveRemoteWithDictionaryProperty { get; }
        public SaveRemoteWithComplexParamsAsyncDelegate SaveRemoteWithComplexParamsAsyncProperty { get; }

        public ComplexParamRemoteWriteObjectFactory(IServiceProvider serviceProvider, IFactoryCore<ComplexParamRemoteWriteObject> factoryCore) : base(factoryCore)
        {
            this.ServiceProvider = serviceProvider;
            SaveRemoteWithIntListProperty = LocalSaveRemoteWithIntList;
            SaveRemoteWithDtoProperty = LocalSaveRemoteWithDto;
            SaveRemoteWithDictionaryProperty = LocalSaveRemoteWithDictionary;
            SaveRemoteWithComplexParamsAsyncProperty = LocalSaveRemoteWithComplexParamsAsync;
        }

        public ComplexParamRemoteWriteObjectFactory(IServiceProvider serviceProvider, IMakeRemoteDelegateRequest remoteMethodDelegate, IFactoryCore<ComplexParamRemoteWriteObject> factoryCore) : base(factoryCore)
        {
            this.ServiceProvider = serviceProvider;
            this.MakeRemoteDelegateRequest = remoteMethodDelegate;
            SaveRemoteWithIntListProperty = RemoteSaveRemoteWithIntList;
            SaveRemoteWithDtoProperty = RemoteSaveRemoteWithDto;
            SaveRemoteWithDictionaryProperty = RemoteSaveRemoteWithDictionary;
            SaveRemoteWithComplexParamsAsyncProperty = RemoteSaveRemoteWithComplexParamsAsync;
        }

        public Task<ComplexParamRemoteWriteObject> LocalInsertRemoteWithIntList(ComplexParamRemoteWriteObject target, List<int> ids)
        {
            var cTarget = (ComplexParamRemoteWriteObject)target ?? throw new Exception("ComplexParamRemoteWriteObject must implement ComplexParamRemoteWriteObject");
            return Task.FromResult(DoFactoryMethodCall(cTarget, FactoryOperation.Insert, () => cTarget.InsertRemoteWithIntList(ids)));
        }

        public Task<ComplexParamRemoteWriteObject> LocalInsertRemoteWithDto(ComplexParamRemoteWriteObject target, SimpleDto dto)
        {
            var cTarget = (ComplexParamRemoteWriteObject)target ?? throw new Exception("ComplexParamRemoteWriteObject must implement ComplexParamRemoteWriteObject");
            return Task.FromResult(DoFactoryMethodCall(cTarget, FactoryOperation.Insert, () => cTarget.InsertRemoteWithDto(dto)));
        }

        public Task<ComplexParamRemoteWriteObject> LocalUpdateRemoteWithDictionary(ComplexParamRemoteWriteObject target, Dictionary<string, int> data)
        {
            var cTarget = (ComplexParamRemoteWriteObject)target ?? throw new Exception("ComplexParamRemoteWriteObject must implement ComplexParamRemoteWriteObject");
            return Task.FromResult(DoFactoryMethodCall(cTarget, FactoryOperation.Update, () => cTarget.UpdateRemoteWithDictionary(data)));
        }

        public Task<ComplexParamRemoteWriteObject> LocalDeleteRemoteWithIntList(ComplexParamRemoteWriteObject target, List<int> ids)
        {
            var cTarget = (ComplexParamRemoteWriteObject)target ?? throw new Exception("ComplexParamRemoteWriteObject must implement ComplexParamRemoteWriteObject");
            return Task.FromResult(DoFactoryMethodCall(cTarget, FactoryOperation.Delete, () => cTarget.DeleteRemoteWithIntList(ids)));
        }

        public Task<ComplexParamRemoteWriteObject> LocalInsertRemoteWithComplexParamsAsync(ComplexParamRemoteWriteObject target, List<string> tags, SimpleDto dto)
        {
            var cTarget = (ComplexParamRemoteWriteObject)target ?? throw new Exception("ComplexParamRemoteWriteObject must implement ComplexParamRemoteWriteObject");
            return DoFactoryMethodCallAsync(cTarget, FactoryOperation.Insert, () => cTarget.InsertRemoteWithComplexParamsAsync(tags, dto));
        }

        public virtual Task<ComplexParamRemoteWriteObject?> SaveRemoteWithIntList(ComplexParamRemoteWriteObject target, List<int> ids)
        {
            return SaveRemoteWithIntListProperty(target, ids);
        }

        public virtual async Task<ComplexParamRemoteWriteObject?> RemoteSaveRemoteWithIntList(ComplexParamRemoteWriteObject target, List<int> ids)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegateNullable<ComplexParamRemoteWriteObject?>(typeof(SaveRemoteWithIntListDelegate), [target, ids]))!;
        }

        public virtual async Task<ComplexParamRemoteWriteObject?> LocalSaveRemoteWithIntList(ComplexParamRemoteWriteObject target, List<int> ids)
        {
            if (target.IsDeleted)
            {
                if (target.IsNew)
                {
                    return default(ComplexParamRemoteWriteObject);
                }

                return await LocalDeleteRemoteWithIntList(target, ids);
            }
            else if (target.IsNew)
            {
                return await LocalInsertRemoteWithIntList(target, ids);
            }
            else
            {
                throw new NotImplementedException();
            }
        }

        public virtual Task<ComplexParamRemoteWriteObject> SaveRemoteWithDto(ComplexParamRemoteWriteObject target, SimpleDto dto)
        {
            return SaveRemoteWithDtoProperty(target, dto);
        }

        public virtual async Task<ComplexParamRemoteWriteObject> RemoteSaveRemoteWithDto(ComplexParamRemoteWriteObject target, SimpleDto dto)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteWriteObject>(typeof(SaveRemoteWithDtoDelegate), [target, dto]))!;
        }

        public virtual async Task<ComplexParamRemoteWriteObject> LocalSaveRemoteWithDto(ComplexParamRemoteWriteObject target, SimpleDto dto)
        {
            if (target.IsDeleted)
            {
                throw new NotImplementedException();
            }
            else if (target.IsNew)
            {
                return await LocalInsertRemoteWithDto(target, dto);
            }
            else
            {
                throw new NotImplementedException();
            }
        }

        public virtual Task<ComplexParamRemoteWriteObject> SaveRemoteWithDictionary(ComplexParamRemoteWriteObject target, Dictionary<string, int> data)
        {
            return SaveRemoteWithDictionaryProperty(target, data);
        }

        public virtual async Task<ComplexParamRemoteWriteObject> RemoteSaveRemoteWithDictionary(ComplexParamRemoteWriteObject target, Dictionary<string, int> data)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteWriteObject>(typeof(SaveRemoteWithDictionaryDelegate), [target, data]))!;
        }

        public virtual async Task<ComplexParamRemoteWriteObject> LocalSaveRemoteWithDictionary(ComplexParamRemoteWriteObject target, Dictionary<string, int> data)
        {
            if (target.IsDeleted)
            {
                throw new NotImplementedException();
            }
            else if (target.IsNew)
            {
                throw new NotImplementedException();
            }
            else
            {
                return await LocalUpdateRemoteWithDictionary(target, data);
            }
        }

        public virtual Task<ComplexParamRemoteWriteObject> SaveRemoteWithComplexParamsAsync(ComplexParamRemoteWriteObject target, List<string> tags, SimpleDto dto)
        {
            return SaveRemoteWithComplexParamsAsyncProperty(target, tags, dto);
        }

        public virtual async Task<ComplexParamRemoteWriteObject> RemoteSaveRemoteWithComplexParamsAsync(ComplexParamRemoteWriteObject target, List<string> tags, SimpleDto dto)
        {
            return (await MakeRemoteDelegateRequest!.ForDelegate<ComplexParamRemoteWriteObject>(typeof(SaveRemoteWithComplexParamsAsyncDelegate), [target, tags, dto]))!;
        }

        public virtual async Task<ComplexParamRemoteWriteObject> LocalSaveRemoteWithComplexParamsAsync(ComplexParamRemoteWriteObject target, List<string> tags, SimpleDto dto)
        {
            if (target.IsDeleted)
            {
                throw new NotImplementedException();
            }
            else if (target.IsNew)
            {
                return await LocalInsertRemoteWithComplexParamsAsync(target, tags, dto);
            }
            else
            {
                throw new NotImplementedException();
            }
        }

        public static void FactoryServiceRegistrar(IServiceCollection services, NeatooFactory remoteLocal)
        {
            services.AddScoped<ComplexParamRemoteWriteObjectFactory>();
            services.AddScoped<IComplexParamRemoteWriteObjectFactory, ComplexParamRemoteWriteObjectFactory>();
            services.AddScoped<SaveRemoteWithIntListDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteWriteObjectFactory>();
                return (ComplexParamRemoteWriteObject target, List<int> ids) => factory.LocalSaveRemoteWithIntList(target, ids);
            });
            services.AddScoped<SaveRemoteWithDtoDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteWriteObjectFactory>();
                return (ComplexParamRemoteWriteObject target, SimpleDto dto) => factory.LocalSaveRemoteWithDto(target, dto);
            });
            services.AddScoped<SaveRemoteWithDictionaryDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteWriteObjectFactory>();
                return (ComplexParamRemoteWriteObject target, Dictionary<string, int> data) => factory.LocalSaveRemoteWithDictionary(target, data);
            });
            services.AddScoped<SaveRemoteWithComplexParamsAsyncDelegate>(cc =>
            {
                var factory = cc.GetRequiredService<ComplexParamRemoteWriteObjectFactory>();
                return (ComplexParamRemoteWriteObject target, List<string> tags, SimpleDto dto) => factory.LocalSaveRemoteWithComplexParamsAsync(target, tags, dto);
            });
            services.AddTransient<ComplexParamRemoteWriteObject>();
        }
    }
}